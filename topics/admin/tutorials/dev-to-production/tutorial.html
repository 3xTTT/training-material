<!DOCTYPE html>
<html>
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>Galaxy Training!</title>
        <link media="all" href="https://netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://galaxyproject.github.io/training-material//assets/css/landing_page.css">
        <link rel="stylesheet" href="https://galaxyproject.github.io/training-material//assets/css/tutorial.css">
        <link rel="stylesheet" href="https://galaxyproject.github.io/training-material//assets/css/font-awesome.css">
        <link rel="stylesheet" href="https://galaxyproject.github.io/training-material//assets/css/syntax_highlighting.css">
        <meta name="viewport" content="width=device-width">
    </head>
    <body>
        <div class="wrapper">
            


<header>
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a id="site-title" class="navbar-brand" href="https://wiki.galaxyproject.org/Teach/GTN">
              <img class="pull-left img-responsive" src="https://galaxyproject.github.io/training-material///assets/images/GTN.png">
            </a>
            <a id="site-title" class="navbar-brand name-holder" href="https://galaxyproject.github.io/training-material//topics/admin/tutorials/dev-to-production/tutorial.html">
              Move from dev instance to production instance
            </a>
          </div>

          <div class="collapse navbar-collapse" id="navbar">

            <ul id="main-menu" class="nav navbar-nav navbar-right">
              <li><a href="https://galaxyproject.github.io/training-material/" title="Back to front page"><i class="fa fa-home"></i> Home</a></li>
              <li><a href="https://galaxyproject.github.io/training-material//topics/admin" title="Go back to list of tutorials"><i class="fa fa-file-text-o"></i> Galaxy Server administration</a></li>

              
                <li><a href="https://galaxyproject.github.io/training-material//topics/admin/slides" title="Slides for this tutorial"><i class="fa fa-graduation-cap"></i> Introduction slides</a></li>
              
              <!--<li><a href="https://galaxyproject.github.io/training-material//admin/slides/dev-to-production/"><i class="fa fa-file-powerpoint-o"></i> Associated slides</a></li>-->

              
                <li><a href="https://github.com/galaxyproject/training-material/tree/master/topics/admin/docker" title="Docker image for this tutorial"><i class="fa fa-ship"></i> Docker image</a></li>
              

              

              

              
                <li><a href="https://galaxyproject.github.io/training-material//topics/admin#references" title="References"><i class="fa fa-book"></i> Literature</a></li>
              

            </ul>
          </div>
        </div>
    </nav>
</header>

<section class="tutorial">
    <h1>Move from dev instance to production instance</h1>

    <blockquote class="overview">
        <h3>Overview</h3>

        <p class="bold"> <img class="emoji" title=":grey_question:" alt=":grey_question:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2754.png" height="20" width="20" align="absmiddle"> Questions</p>
        <ul>
        
          <li>
        
          </li>
<li>
        
        </li>
</ul>

        <p class="bold"> <img class="emoji" title=":dart:" alt=":dart:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f3af.png" height="20" width="20" align="absmiddle"> Objectives</p>
        <ul>
        
          <li>
        
          </li>
<li>
        
          </li>
<li>
        
        </li>
</ul>

        

        <p><span class="bold"> <img class="emoji" title=":hourglass:" alt=":hourglass:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/231b.png" height="20" width="20" align="absmiddle"> Time estimation:</span> 1d/3h/6h</p>

    </blockquote>

<h1 id="move-from-dev-instance-to-production-instance">Move from dev instance to production instance</h1>

<p><img class="emoji" title=":grey_question:" alt=":grey_question:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2754.png" height="20" width="20" align="absmiddle"> <strong><em>Questions</em></strong></p>

<ul>
  <li><em>Why do I need to configure Galaxy for production ?</em></li>
  <li><em>How to run a galaxy in a production environment ?</em></li>
</ul>

<p><img class="emoji" title=":dart:" alt=":dart:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f3af.png" height="20" width="20" align="absmiddle"> <strong><em>Objectives</em></strong></p>

<ul>
  <li><em>Learn to install a Galaxy server.</em></li>
  <li>
<em>Upgrade a basic galaxy installation to a production environment</em>.</li>
  <li><em>Get a basic understanding of entry points in the main galaxy configuration file.</em></li>
</ul>

<p><img class="emoji" title=":heavy_check_mark:" alt=":heavy_check_mark:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2714.png" height="20" width="20" align="absmiddle"> <strong><em>Requirements</em></strong></p>

<ul>
  <li><em><a href="https://galaxyproject.github.io/training-material/topics/admin/slides/">Galaxy Server Administration</a></em></li>
</ul>

<p><img class="emoji" title=":hourglass:" alt=":hourglass:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/231b.png" height="20" width="20" align="absmiddle"> <strong><em>Time estimation</em></strong> <em>TODO</em></p>

<h1 id="introduction">Introduction</h1>

<p>In this tutorial you will learn to install and configure a galaxy instance.
The basic installation instructions are suitable for developpement only.
For setting up a Galaxy for a multi-user production environment additonal steps are necessary.
After a basic installation, this tutorial present the main steps for moving from a basic installation to a production environment.</p>

<p><img src="../../images/scheme-dev_to_production.png" style="width: 600px;"></p>

<h1 id="basic-installation">Basic Installation</h1>

<h2 id="clone-it-and-run-it">Clone it and run it</h2>

<p><img class="emoji" title=":pencil2:" alt=":pencil2:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/270f.png" height="20" width="20" align="absmiddle"> <strong><em>Hands on!</em></strong></p>

<p>Galaxy’s source code is hosted in a <a href="https://github.com/galaxyproject/galaxy">GitHub</a> repository.</p>

<p>To get the code run:</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>git clone -b release_16.07 https://github.com/galaxyproject/galaxy.git
</code></pre>
</div>

<p>To start the galaxy go to the galaxy directory and run:</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>sh run.sh
</code></pre>
</div>

<p>This will start up the server on localhost and port 8080, so Galaxy can be accessed from your web browser at http://localhost:8080 .</p>

<p>Galaxy’s server will start printing its output to your terminal. To stop the Galaxy server, just hit Ctrl-c in the terminal from which Galaxy is running.</p>

<h2 id="access-galaxy-over-the-network">Access Galaxy over the network</h2>
<p>In the basic installation Galaxy is bind to the loopback interface.
To bind Galaxy to any avalaible network interface edit the config/galaxy.ini file and change the host setting to:</p>

<div class="highlighter-rouge">
<pre class="highlight"><code>host = 0.0.0.0
</code></pre>
</div>

<h2 id="what-did-you-just-installed-">What did you just installed ?</h2>
<p>The galaxy you have just installed is configured with the following:</p>

<ul>
  <li>
<a href="https://www.sqlite.org/">SQLite</a>: a servless database.</li>
  <li>A built-in HTTP server, written in Python.</li>
</ul>

<p>The tools are run locally and the galaxy server itself run in a single process.</p>

<h2 id="usefull-things-to-know-">Usefull things to know …</h2>

<ul>
  <li>The command: git clone -b release_16.07 https://github.com/galaxyproject/galaxy.git</li>
</ul>

<p><em>We use the “-b” option to clone a specific branch of the repository.
In the example above we clone the branch release_16.07 because the lastest release is 16.07.
A new version of Galaxy is released every 3 months.
It is strongly encouraged to run this tutorial with the latest release.
See the <a href="https://github.com/galaxyproject/galaxy">GitHub</a> repository to get the latest one.</em></p>

<ul>
  <li>Galaxy configuration filenames</li>
</ul>

<p><em>In the config/ directory all the files are suffixed with “.sample”.
Sample files are default files provided by Galaxy.
When you change a configuration it is strongly encouraged to work directly on a filename without the ‘sample’ suffix.
So, go ahead save the ‘galaxy.ini.sample’ and create a ‘galaxy.ini’</em></p>

<h2 id="whats-next-">What’s next ?</h2>
<p>Next, you will configure your Galaxy server for production.
The first thing to do is to disable the developer settings.</p>

<h1 id="disable-developer-settings">Disable developer settings.</h1>
<p>As previously mentionned the basic installation is for development only.
A set of option are usefull for development but become irrelevant for production:</p>

<ul>
  <li>
    <p>debug:</p>

    <p>debug = False</p>
  </li>
</ul>

<p>Setting debug to False disable middleware that loads the entire response in memory for displaying debugging information in the page.
If left enabled, the proxy server may timeout waiting for a response or your Galaxy process may run out of memory if it’s serving large files.</p>

<ul>
  <li>
    <p>use_interactive:</p>

    <p>use_interactive = False</p>
  </li>
</ul>

<p>Setting use_interactive to false disable displaying and live debugging of tracebacks via the web.
Leaving it enabled will expose your configuration (database password, id_secret, etc.).</p>

<ul>
  <li>filter-with:</li>
</ul>

<h2 id="subpart-1">Subpart 1</h2>

<p>Short introduction about this subpart.</p>

<p><img class="emoji" title=":pencil2:" alt=":pencil2:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/270f.png" height="20" width="20" align="absmiddle"> <strong><em>Hands on!</em></strong></p>

<ol>
  <li>First step</li>
  <li>Second step</li>
  <li>Third step</li>
</ol>

<h2 id="subpart-2">Subpart 2</h2>

<p>Short introduction about this subpart.</p>

<p><img class="emoji" title=":pencil2:" alt=":pencil2:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/270f.png" height="20" width="20" align="absmiddle"> <strong><em>Hands on!</em></strong></p>

<ol>
  <li>First step</li>
  <li>Second step</li>
  <li>Third step</li>
</ol>

<p>Some blabla</p>

<p><img class="emoji" title=":pencil2:" alt=":pencil2:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/270f.png" height="20" width="20" align="absmiddle"> <strong><em>Hands on!</em></strong></p>

<ol>
  <li>First step</li>
  <li>Second step</li>
  <li>Third step</li>
</ol>

<h1 id="part-2">Part 2</h1>

<p>Short introduction about this subpart.</p>

<p><img class="emoji" title=":pencil2:" alt=":pencil2:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/270f.png" height="20" width="20" align="absmiddle"> <strong><em>Hands on!</em></strong></p>

<ol>
  <li>First step</li>
  <li>Second step</li>
  <li>Third step</li>
</ol>

<h2 id="subpart-2-1">Subpart 2</h2>

<p>Short introduction about this subpart.</p>

<p><img class="emoji" title=":pencil2:" alt=":pencil2:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/270f.png" height="20" width="20" align="absmiddle"> <strong><em>Hands on!</em></strong></p>

<ol>
  <li>First step</li>
  <li>Second step</li>
  <li>Third step</li>
</ol>

<p>Some blabla</p>

<p><img class="emoji" title=":pencil2:" alt=":pencil2:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/270f.png" height="20" width="20" align="absmiddle"> <strong><em>Hands on!</em></strong></p>

<ol>
  <li>First step</li>
  <li>Second step</li>
  <li>Third step</li>
</ol>

<h1 id="conclusion">Conclusion</h1>

<p>Conclusion about the technical key points. And then relation between the technics and the biological question to end with a global view.</p>

<p><img class="emoji" title=":grey_exclamation:" alt=":grey_exclamation:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2755.png" height="20" width="20" align="absmiddle"> <strong><em>Key Points</em></strong></p>

<ul>
  <li><em>Simple sentence to sum up the first key point of the tutorial (Take home message)</em></li>
  <li><em>Second key point</em></li>
  <li><em>Third key point</em></li>
  <li><em>…</em></li>
</ul>

<h1 id="clap-thank-you">
<img class="emoji" title=":clap:" alt=":clap:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f44f.png" height="20" width="20" align="absmiddle"> Thank you</h1>


    
    <blockquote class="key_points">
        <h3> <img class="emoji" title=":grey_exclamation:" alt=":grey_exclamation:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/2755.png" height="20" width="20" align="absmiddle"> Key points</h3>

        <ul>
        
           <li>
        
           </li>
<li>
        
           </li>
<li>
        
           </li>
<li>...</li>
        
        </ul>
    </blockquote>
    

    

    <h3>
<img class="emoji" title=":clap:" alt=":clap:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f44f.png" height="20" width="20" align="absmiddle"> Congratulations on successfully completing this tutorial!</h3>


    <hr>
    <blockquote class="overview">
        <h3> <img class="emoji" title=":speech_balloon:" alt=":speech_balloon:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f4ac.png" height="20" width="20" align="absmiddle"> Feedback</h3>
        Please take a moment and provide your feedback on this tutorial. Your feedback will help guide and improve future revisions to this tutorial. <a href="https://tinyurl.com/GTNfeedback" target="_blank">Feedback Form</a>
    </blockquote>

    <i>This material is the result of a collaborative work. Thanks the <a href="https://wiki.galaxyproject.org/Teach/GTN">Galaxy Training Network</a> and all the contributors
    
    !<br>
    <br>
    Found a typo? Something is wrong in this tutorial? Edit it on <a href="https://github.com/galaxyproject/training-material/tree/master/topics/admin/tutorials/dev-to-production/tutorial.md">GitHub</a>.</i>
</section>

        </div>
    </body>
    <script src="https://galaxyproject.github.io/training-material//assets/js/landing_page.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</html>
